# ctxlogrus
`import "github.com/improbable-eng/go-httpwares/logging/logrus/ctxlogrus"`

* [Overview](#pkg-overview)
* [Imported Packages](#pkg-imports)
* [Index](#pkg-index)
* [Examples](#pkg-examples)

## <a name="pkg-overview">Overview</a>
ctxlogrus allows you to store or extract a logrus logger from the context.

When a logger is added to the context (ToContext) its fields are transfered over and will be present when the logger
is retrieved later using Export.
If a logger is already present on the context you will override it with the new logger passed and override any fields
present.

Additional fields can be added to the logger on the context by with the AddFields method.

## <a name="pkg-imports">Imported Packages</a>

- [github.com/grpc-ecosystem/go-grpc-middleware/tags](https://godoc.org/github.com/grpc-ecosystem/go-grpc-middleware/tags)
- [github.com/sirupsen/logrus](https://godoc.org/github.com/sirupsen/logrus)
- [golang.org/x/net/context](https://godoc.org/golang.org/x/net/context)

## <a name="pkg-index">Index</a>
* [func AddFields(ctx context.Context, fields logrus.Fields)](#AddFields)
* [func Extract(ctx context.Context) \*logrus.Entry](#Extract)
* [func ToContext(ctx context.Context, entry \*logrus.Entry) context.Context](#ToContext)

#### <a name="pkg-examples">Examples</a>
* [AddFields](#example_AddFields)
* [Extract](#example_Extract)
* [ToContext](#example_ToContext)

#### <a name="pkg-files">Package files</a>
[context.go](./context.go) [doc.go](./doc.go) [noop.go](./noop.go) 

## <a name="AddFields">func</a> [AddFields](./context.go#L45)
``` go
func AddFields(ctx context.Context, fields logrus.Fields)
```
AddFields will add or override fields to context for use when extracting a logger from the context.

#### Example:

<details>
<summary>Click to expand code.</summary>

```go
ctx := context.Background()
ctx = ctxlogrus.ToContext(ctx, logrus.WithFields(logrus.Fields{"foo": "bar"}))
ctxlogrus.AddFields(ctx, logrus.Fields{"num": 42})
```

</details>

## <a name="Extract">func</a> [Extract](./context.go#L26)
``` go
func Extract(ctx context.Context) *logrus.Entry
```
Extract takes the logrus.Entry from the context.

The logger will have fields pre-populated that had been present when adding the logger to the context. Fields can
also be added using AddFields.

If the has had no logrus.Entry set a no-op logrus.Entry is returned. This makes it safe to use regardless.

#### Example:

<details>
<summary>Click to expand code.</summary>

```go
ctx := context.Background()
entry := ctxlogrus.Extract(ctx)
entry.Info("logging")
```

</details>

## <a name="ToContext">func</a> [ToContext](./context.go#L58)
``` go
func ToContext(ctx context.Context, entry *logrus.Entry) context.Context
```
ToContext sets a logrus logger on the context, which can then obtained by Extract.
this will override any logger or fields that are already on the context with the
logger that has been passed in.

#### Example:

<details>
<summary>Click to expand code.</summary>

```go
ctx := context.Background()
ctx = ctxlogrus.ToContext(ctx, logrus.WithFields(logrus.Fields{"foo": "bar"}))
```

</details>

- - -
Generated by [godoc2ghmd](https://github.com/GandalfUK/godoc2ghmd)